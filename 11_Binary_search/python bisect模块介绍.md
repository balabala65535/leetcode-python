æ˜¯çš„ï¼ŒPython çš„ `bisect` æ¨¡å—æä¾›äº†å¤šä¸ªç”¨äº**äºŒåˆ†æŸ¥æ‰¾**å’Œ**æ’å…¥**çš„å‡½æ•°ï¼Œä»¥ä¸‹æ˜¯å®Œæ•´çš„å‡½æ•°åˆ—è¡¨åŠå…¶ç”¨é€”ï¼š

---

## ğŸ“š `bisect` æ¨¡å—å‡½æ•°ä¸€è§ˆ

### 1. **æŸ¥æ‰¾ç±»å‡½æ•°**
| å‡½æ•° | åˆ«å | æè¿° | ç‰¹ç‚¹ |
|------|------|------|------|
| `bisect_left(a, x)` | - | è¿”å› `x` çš„**æœ€å·¦ä¾§æ’å…¥ä½ç½®** | å¦‚æœ `x` å­˜åœ¨ï¼Œè¿”å›ç¬¬ä¸€ä¸ªç­‰äº `x` çš„ç´¢å¼• |
| `bisect_right(a, x)` | `bisect` | è¿”å› `x` çš„**æœ€å³ä¾§æ’å…¥ä½ç½®** | å¦‚æœ `x` å­˜åœ¨ï¼Œè¿”å›æœ€åä¸€ä¸ª `x` çš„ä¸‹ä¸€ä¸ªä½ç½® |

#### ç¤ºä¾‹ï¼š
```python
import bisect
arr = [1, 3, 3, 5, 7]

print(bisect.bisect_left(arr, 3))   # è¾“å‡º 1ï¼ˆç¬¬ä¸€ä¸ª3çš„ä½ç½®ï¼‰
print(bisect.bisect_right(arr, 3))  # è¾“å‡º 3ï¼ˆæœ€åä¸€ä¸ª3çš„ä¸‹ä¸€ä¸ªä½ç½®ï¼‰
```

---

### 2. **æ’å…¥ç±»å‡½æ•°**
| å‡½æ•° | æè¿° | ç­‰ä»·æ“ä½œ |
|------|------|----------|
| `insort_left(a, x)` | å°† `x` æ’å…¥åˆ° `a` ä¸­**æœ€å·¦ä¾§** | `a.insert(bisect_left(a, x), x)` |
| `insort_right(a, x)` | å°† `x` æ’å…¥åˆ° `a` ä¸­**æœ€å³ä¾§** | `a.insert(bisect_right(a, x), x)` |
| `insort(a, x)` | `insort_right` çš„åˆ«å | - |

#### ç¤ºä¾‹ï¼š
```python
arr = [1, 3, 5]
bisect.insort_left(arr, 2)  # arr â†’ [1, 2, 3, 5]
bisect.insort_right(arr, 3) # arr â†’ [1, 2, 3, 3, 5]
```

---

## ğŸ” å…³é”®åŒºåˆ«ï¼š`left` vs `right`
| åœºæ™¯ | `bisect_left`/`insort_left` | `bisect_right`/`insort_right` |
|------|----------------------------|-----------------------------|
| å½“ `x` å­˜åœ¨äºåˆ—è¡¨ä¸­æ—¶ | è¿”å›/æ’å…¥åˆ°**ç¬¬ä¸€ä¸ª `x` çš„ä½ç½®** | è¿”å›/æ’å…¥åˆ°**æœ€åä¸€ä¸ª `x` çš„ä¸‹ä¸€ä¸ªä½ç½®** |
| å½“ `x` ä¸å­˜åœ¨æ—¶ | ä¸¤è€…è¡Œä¸ºä¸€è‡´ï¼Œè¿”å›/æ’å…¥åˆ°åˆé€‚ä½ç½® |

---

## ğŸ› ï¸ å®é™…åº”ç”¨åœºæ™¯
### 1. **ç»´æŠ¤åŠ¨æ€æœ‰åºåˆ—è¡¨**
```python
sorted_list = []
for num in [3, 1, 4, 1, 5]:
    bisect.insort(sorted_list, num)  # å§‹ç»ˆä¿æŒæœ‰åº
# ç»“æœ: [1, 1, 3, 4, 5]
```

### 2. **èŒƒå›´ç»Ÿè®¡**
```python
arr = [1, 2, 2, 3, 4]
# ç»Ÿè®¡ 2 çš„ä¸ªæ•°
count = bisect.bisect_right(arr, 2) - bisect.bisect_left(arr, 2)  # 2
```

### 3. **ç¦»æ•£åŒ–å¤„ç†**ï¼ˆå¸¸ç”¨äºç®—æ³•ç«èµ›ï¼‰
```python
data = [100, 300, 200, 500]
sorted_data = sorted(data)
# æŸ¥è¯¢ 200 çš„æ’åï¼ˆä»0å¼€å§‹ï¼‰
rank = bisect.bisect_left(sorted_data, 200)  # 1
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹
1. **åˆ—è¡¨å¿…é¡»é¢„å…ˆæ’åº**ï¼Œå¦åˆ™ç»“æœæ— æ„ä¹‰
2. æ‰€æœ‰å‡½æ•°çš„æ—¶é—´å¤æ‚åº¦ä¸º **O(log n)**
3. æ’å…¥æ“ä½œ (`insort`) çš„**å®é™…å¤æ‚åº¦æ˜¯ O(n)**ï¼Œå› ä¸ºåˆ—è¡¨æ’å…¥éœ€è¦ç§»åŠ¨å…ƒç´ 

---

## ğŸŒŸ ä¸ºä»€ä¹ˆé€‰æ‹© `bisect`ï¼Ÿ
- æ¯”æ‰‹åŠ¨å®ç°äºŒåˆ†æ›´**å®‰å…¨**ï¼ˆé¿å…è¾¹ç•Œé”™è¯¯ï¼‰
- æ¯”çº¿æ€§æŸ¥æ‰¾æ›´**é«˜æ•ˆ**ï¼ˆO(log n) vs O(n)ï¼‰
- æ¥å£ç®€æ´ï¼Œé€‚åˆ**å¿«é€ŸåŸå‹å¼€å‘**

å¦‚æœéœ€è¦æ›´å¤æ‚çš„äºŒåˆ†é€»è¾‘ï¼ˆå¦‚è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°ï¼‰ï¼Œå¯ä»¥è€ƒè™‘ `functools.cmp_to_key` æˆ–å®ç°è‡ªå·±çš„äºŒåˆ†å‡½æ•°ã€‚
